---
layout: single
title: "디자인 패턴"
categories: ComputerScience
classes: wide
---

### 디자인 패턴

소프트웨어 디자인 과정에서 자주 발생하는 문제들에 대한 해결책을 모아논 것을 디자인 패턴이라 합니다.

디자인 패턴은 **생성**, **구조**, **행동**, 총 3가지의 패턴으로 나뉘어져 있습니다.

***

#### 생성

**생성 패턴**은 코드의 유연성과 재사용을 증가시키는 다양한 객체 생성 매커니즘을 위한 패턴입니다.

##### 팩토리 메서드

팩토리 메서드는 부모 클래스에서 객체들을 생성할 수 있는 인터페이스를 제공하고, 생성될 객체의 유형은 자식에서 정하는 생성 패턴입니다.

팩토리를 구현하는 방법은 추상 클래스 팩토리에 가상 함수로 객체를 생성하는 메서드를 작성한다.

이 후 생성할 객체의 종류가 추가될 수록 해당 클래스의 객체를 반환하는 팩토리를 

위의 추상 클래스 팩토리를 상속 받아 만들어 모든 팩토리에 동일한 함수를 통해 객체를 생성되게 한다.

##### 추상 팩토리

추상 팩토리는 팩토리 메서드와 비슷하게 객체를 생성하는 팩토리를 자식에서 정하여 생성하는 패턴입니다.

추상 팩토리가 팩토리 메서드와 다른 점은 한 개의 객체 종류만을 생성하는 팩토레 메서드와 다르게 추상 팩토리는 연관된 여러 종류의 객체를 생성한다는 점입니다.

##### 빌더

빌더는 복잡한 객체를 단계별로 생성하여 같은 코드를 통해 다양한 유형을 가진 객체를 생성할 수 있게 하는 패턴입니다.

예를 들어 집을 객체로 표현할 때 집은 수영장, 층수, 마당, 담벼락 등 다양한 요소를 가집니다.

이러한 표현할 수 있는 모든 유형들을 bool 값으로 생성자로 받는다면 코드가 매우 더러워지고 이해하기 힘들 것 입니다.

이를 해결하기 위해서 빌더로서 집에 수영장, 층수 등 요소들을 추가하는 클래스를 만드는 것입니다.

##### 프로토타입

프로토타입은 복사하고 싶은 객체의 클래스에 의존하지 않고 객체를 복사하게 도와주는 패턴입니다.

객체를 복사하는 과정은 같은 클래스의 새 객체를 만들어 모든 값을 복사하면 되지만, 만약 일부 멤버들이 비공개여서 값을 확인할 수 없다면 이를 복사할 수 없습니다.

즉, 객체의 외부에서 객체를 복사하는 것은 항상 가능하지 않습니다.

프로토타입은 복사할 객체의 내부에 메서드를 구현하여 내부 멤버에 접근할 수 있도록 하여 복사하는 과정을 해당 메서드에게 위임하는 것 입니다.

##### 싱글턴

싱글턴이란 클래스에 하나의 인스턴스만 존재하게 하고 이 인스턴스에 대한 전역 접근을 허용하는 패턴입니다.

싱글턴은 실제로 디자인 패턴으로 보지 않는 경우도 많으며, 자주 사용되지 않는 경우가 많습니다.

왜냐면 싱글턴은 그 특성 때문에 SOLID 원칙 중 단일 책임 원칙을 위반하기 때문입니다.

싱글턴을 만들기 위해서는 생성자를 private으로 하여 한 프로세스에 한번만 호출하여 하나의 인스턴스만 생성하고 이를 반환하는 식으로 사용합니다.

*참조:* <https://refactoring.guru/ko>
